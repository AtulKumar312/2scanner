<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Scanner</title>
</head>
<body>
    <h1>QR Scanner</h1>
    <div id="reader" style="max-width: 100%;"></div>

    <script src="html5-qrcode.min.js"></script>
    <script>
        const qrCodeScanner = new Html5Qrcode("reader");

        window.addEventListener("DOMContentLoaded", () => {
            qrCodeScanner.start(
                { facingMode: "environment" }, // Use the back camera
                { fps: 10, qrbox: 250 },
                (qrCodeMessage) => {
                    // QR code detected
                    console.log("QR Code detected:", qrCodeMessage);
                    qrCodeScanner.stop();
                },
                (errorMessage) => {
                    // Failed to scan QR code
                    console.error(errorMessage);
                }
            );

            window.addEventListener("resize", () => {
                qrCodeScanner.start(
                    { facingMode: "environment" }, // Use the back camera
                    { fps: 10, qrbox: 250 },
                    (qrCodeMessage) => {
                        // QR code detected
                        console.log("QR Code detected:", qrCodeMessage);
                        qrCodeScanner.stop();
                    },
                    (errorMessage) => {
                        // Failed to scan QR code
                        console.error(errorMessage);
                    }
                );
            });
        });
    </script>
</body>
</html>

